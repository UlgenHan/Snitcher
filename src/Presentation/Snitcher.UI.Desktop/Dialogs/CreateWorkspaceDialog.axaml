<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Snitcher.UI.Desktop.ViewModels"
        x:Class="Snitcher.UI.Desktop.Dialogs.CreateWorkspaceDialog"
        x:DataType="vm:CreateWorkspaceViewModel"
        Title="Create New Workspace"
        Width="500" Height="400"
        CanResize="False"
        WindowStartupLocation="CenterOwner">

    <Grid Background="#121212" RowDefinitions="Auto,*,Auto">
        <!-- Header -->
        <Border Grid.Row="0" Background="#181818" Padding="24,16">
            <Grid ColumnDefinitions="Auto,*">
                <Border Grid.Column="0"
                        Background="#5037A9"
                        CornerRadius="50"
                        Width="48" Height="48"
                        VerticalAlignment="Center">
                    <TextBlock Text="ðŸ“"
                             FontSize="24"
                             Foreground="White"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"/>
                </Border>
                <StackPanel Grid.Column="1" Margin="16,0,0,0" VerticalAlignment="Center">
                    <TextBlock Text="Create New Workspace"
                             FontSize="20"
                             FontWeight="Bold"
                             Foreground="White"/>
                    <TextBlock Text="Organize your projects in a dedicated workspace"
                             FontSize="14"
                             Foreground="#B3B3B3"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Content -->
        <StackPanel Grid.Row="1" Spacing="24" Margin="24,16">
            <!-- Name Input -->
            <StackPanel Spacing="8">
                <TextBlock Text="Workspace Name"
                         FontSize="14"
                         FontWeight="Medium"
                         Foreground="White"/>
                <TextBox Text="{Binding Name}"
                         Watermark="Enter workspace name..."
                         FontSize="14"
                         Padding="12,8"
                         Background="#282828"
                         Foreground="White"
                         BorderBrush="#404040"
                         BorderThickness="1"/>
            </StackPanel>

            <!-- Description Input -->
            <StackPanel Spacing="8">
                <TextBlock Text="Description (Optional)"
                         FontSize="14"
                         FontWeight="Medium"
                         Foreground="White"/>
                <TextBox Text="{Binding Description}"
                         Watermark="Enter workspace description..."
                         FontSize="14"
                         Padding="12,8"
                         Background="#282828"
                         Foreground="White"
                         BorderBrush="#404040"
                         BorderThickness="1"
                         Height="80"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"/>
            </StackPanel>

            <!-- Error Message -->
            <Border Background="#2D1B1B"
                    CornerRadius="4"
                    Padding="12,8"
                    IsVisible="{Binding ErrorMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="âš "
                             FontSize="16"
                             Foreground="#E22828"
                             VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding ErrorMessage}"
                             FontSize="12"
                             Foreground="#E22828"
                             VerticalAlignment="Center"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#181818" Padding="24,16">
            <Grid ColumnDefinitions="*,Auto,Auto">
                <!-- Loading Indicator -->
                <StackPanel Grid.Column="0"
                           Orientation="Horizontal"
                           Spacing="8"
                           VerticalAlignment="Center"
                           IsVisible="{Binding IsLoading}">
                    <ProgressBar IsIndeterminate="True"
                                 Width="16" Height="16"
                                 Foreground="#1DB954"/>
                    <TextBlock Text="Creating workspace..."
                             FontSize="14"
                             Foreground="#B3B3B3"
                             VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Buttons -->
                <Button Grid.Column="1"
                        Content="Cancel"
                        Command="{Binding CancelCommand}"
                        Background="#404040"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="20,8"
                        FontSize="14"
                        CornerRadius="4"
                        Margin="0,0,8,0"
                        IsEnabled="{Binding !IsLoading}"/>

                <Button Grid.Column="2"
                        Content="Create Workspace"
                        Command="{Binding CreateWorkspaceCommand}"
                        Background="#1DB954"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="20,8"
                        FontSize="14"
                        CornerRadius="4"
                        IsEnabled="{Binding !IsLoading}"/>
            </Grid>
        </Border>
    </Grid>
</Window>
